@page
@model Aeon_Web.Areas.Project.Pages.Resume.DetailsModel

@{
    ViewData["Title"] = "Детальная информация о резюме";
    var resume = Model.Resume;
}

<link href="https://cdn.jsdelivr.net/npm/lucide@latest" rel="stylesheet"/>
<link rel="stylesheet" href="~/css/areas/project/details.css"/>
<link rel="stylesheet" href="~/css/areas/project/star.css"/>
<script src="~/js/render-stars.js"></script>

<div class="body">
    <section class="job-detail-container animate-fade">
        <div class="job-header">
            <h1 class="job-title">@resume.Title</h1>
        </div>

        <div class="job-meta">
            <h3>@resume.FullName</h3>
        </div>

        <div class="section">
            <h2><i data-lucide="file-text"></i>Описание</h2>
            <p>@resume.Summary</p>
        </div>

        <div class="section">
            <h2><i data-lucide="list-checks"></i>Навыки</h2>
            <ul class="skills">
                @foreach (var skill in resume.ResumeSkills)
                {
                    <li>@skill.Skill?.Name</li>
                }
            </ul>
        </div>

        @if (Model.IsMatch)
        {
            <div class="section">
                <h2><i data-lucide="mail"></i> Контактная информация</h2>
                <p>Email: <a href="mailto:@resume.Contact.Email">@resume.Contact.Email</a></p>
                @if (!string.IsNullOrWhiteSpace(resume.Contact.Phone))
                {
                    <p>Phone: <a href="tel:@resume.Contact.Phone">@resume.Contact.Phone</a></p>
                }
            </div>
        }

        <div class="actions">
            <form class="actions-buttons" method="post" asp-page-handler="Like">
                @if (!Model.IsLiked)
                {
                    <input type="hidden" asp-for="@Model.Resume.Id"/>
                    <button type="submit" class="btn-primary">Откликнуться</button>
                }
                <button class="btn-secondary" onclick="history.back()">Назад</button>
            </form>

            <form class="actions-buttons" method="post" asp-page-handler="Report">
                <input type="hidden" asp-for="@Model.Resume.Id"/>
                <button type="submit" class="btn-report">Пожаловаться</button>
            </form>
        </div>
    </section>
</div>

<script>
    lucide.createIcons();
</script>
